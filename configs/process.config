process {
 
    withName: TRIMMING_BBDUK {
        cpus = 4
        memory = '8GB'
        time = '2h'
    }

    withName: FASTQC {
        cpus = 2
        memory = '4GB'
        time = '1h'
    }

    withName: MULTIQC {
        cpus = 2
        memory = '8GB'
        time = '3h'
    }

    withName: KRAKEN2 {
        cpus = 30 // mi aprirÃ  vm con 32cpu, 2 li lascio liberi per evitare swap
        memory = '128GB' // 
        time = '2h'
    }

    withName: STAR_ALIGN_HUMAN {
        cpus  = 60
        memory = '240 GB'
        disk = '240 GB'
        errorStrategy = 'terminate' // lavoro interrotto subito se ci sono problemi, senza apertura di VM --> evita costi inutili
    }

    withName: BWA_MEM2_VIRUS {
        cpus = 8
        memory = '16GB'
        time = '8h'
    }

    withName: SALMON_INDEX_VIRAL {
        cpus = 4
        memory = '8GB'
        time = '2h'
    }

    withName: SALMON_VIRAL {
        cpus = 8
        memory = '16GB'
        time = '4h'
    }
}        